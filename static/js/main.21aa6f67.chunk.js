(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),i=n.n(r),s=(n(12),n(4)),o=n.n(s),u=n(7),l=n(2),j=(n(14),n(18)),d=n(1);var b=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(512),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(512),s=Object(l.a)(i,2),b=s[0],f=s[1],O=Object(a.useState)(null),p=Object(l.a)(O,2),v=p[0],m=p[1],x=Object(a.useState)(0),g=Object(l.a)(x,2),h=g[0],w=g[1],I=Object(j.a)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createWasmModule(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){if(I.value&&e&&e.current){null!==v&&cancelAnimationFrame(v);var t=I.value;t._initialize(c,b,1,Date.now()%1e4),console.log("Initialize done");var n=t._getVisualizeBufferOffset(),a=new ImageData(new Uint8ClampedArray(t.HEAPU8.slice(n,n+1*c*b*1*4)),1*c,1*b);e.current.getContext("2d").putImageData(a,0,0);m(requestAnimationFrame((function t(){var a,r;if(I.value){var i=I.value,s=performance.now();I.value._exec(c,b,1);var o=new ImageData(new Uint8ClampedArray(i.HEAPU8.slice(n,n+1*c*b*1*4)),1*c,1*b);null===(a=e.current)||void 0===a||null===(r=a.getContext("2d"))||void 0===r||r.putImageData(o,0,0);var u=performance.now();w(u-s),m(requestAnimationFrame(t))}})))}}),[c,b,I,e]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{onChange:function(e){var t=e.target.value,n=t.indexOf("x"),a=parseInt(t.substring(0,n)),c=parseInt(t.substring(n+1));console.log(a,c),r(a),f(c)},children:[Object(d.jsx)("option",{selected:!0,children:"512x512"}),Object(d.jsx)("option",{children:"1024x1024"}),Object(d.jsx)("option",{children:"2048x2048"}),Object(d.jsx)("option",{children:"4096x4096"})]}),Object(d.jsxs)("span",{children:[h.toFixed(3)," ms"]})]}),Object(d.jsx)("canvas",{ref:e,width:1*c,height:1*b})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root")),f()}},[[16,1,2]]]);
//# sourceMappingURL=main.21aa6f67.chunk.js.map