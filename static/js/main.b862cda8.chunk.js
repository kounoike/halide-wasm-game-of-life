(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),i=n.n(r),s=(n(12),n(4)),o=n.n(s),u=n(7),l=n(2),j=(n(14),n(18)),d=n(1);var f=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(512),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(512),s=Object(l.a)(i,2),f=s[0],b=s[1],p=Object(a.useState)(null),O=Object(l.a)(p,2),v=O[0],m=O[1],g=Object(a.useState)(0),x=Object(l.a)(g,2),h=x[0],w=x[1],A=Object(j.a)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=createWasmModule(),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){if(A.value&&e&&e.current){v&&cancelAnimationFrame(v);var t=A.value;t._initialize(c,f,1,Date.now()%1e4),console.log("Initialize done");var n=t._getVisualizeBufferOffset(),a=new ImageData(new Uint8ClampedArray(t.HEAPU8.slice(n,n+1*c*f*1*4)),1*c,1*f);e.current.getContext("2d").putImageData(a,0,0);var r=t._getInputBufferOffset();console.log(new Uint8ClampedArray(t.HEAPU8.slice(r,r+c*f))),console.log(new Uint8ClampedArray(t.HEAPU8.slice(n,n+c*f*4)));m(requestAnimationFrame((function t(){var a,r;if(A.value){var i=A.value,s=performance.now();A.value._exec(c,f,1);var o=new ImageData(new Uint8ClampedArray(i.HEAPU8.slice(n,n+1*c*f*1*4)),1*c,1*f);null===(a=e.current)||void 0===a||null===(r=a.getContext("2d"))||void 0===r||r.putImageData(o,0,0);var u=performance.now();w(u-s),m(requestAnimationFrame(t))}})))}}),[c,f,A,e,v]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{onChange:function(e){var t=e.target.value,n=t.indexOf("x"),a=parseInt(t.substring(0,n)),c=parseInt(t.substring(n+1));console.log(a,c),r(a),b(c)},children:[Object(d.jsx)("option",{selected:!0,children:"512x512"}),Object(d.jsx)("option",{children:"1024x1024"}),Object(d.jsx)("option",{children:"2048x2048"}),Object(d.jsx)("option",{children:"4096x4096"})]}),Object(d.jsxs)("span",{children:[h.toFixed(3)," ms"]})]}),Object(d.jsx)("canvas",{ref:e,width:1*c,height:1*f})]})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),b()}},[[16,1,2]]]);
//# sourceMappingURL=main.b862cda8.chunk.js.map